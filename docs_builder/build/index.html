<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · JHistint Documentation</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>JHistint Documentation</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Package-Structure"><span>Package Structure</span></a></li><li><a class="tocitem" href="#JHistint-Collections"><span>JHistint Collections</span></a></li><li><a class="tocitem" href="#Package-Installation"><span>Package Installation</span></a></li><li><a class="tocitem" href="#Download-Slides-functions-(JHistint.jl)"><span>Download Slides functions (JHistint.jl)</span></a></li><li><a class="tocitem" href="#Cell-Segmentation-Slides-functions-(JHistint.jl)"><span>Cell Segmentation Slides functions (JHistint.jl)</span></a></li><li><a class="tocitem" href="#Support-Functions-for-Cell-Segmentation-(segmentationManager.jl)"><span>Support Functions for Cell Segmentation (segmentationManager.jl)</span></a></li><li><a class="tocitem" href="#DB-Support-Functions-(dbManager.jl)"><span>DB Support Functions (dbManager.jl)</span></a></li><li><a class="tocitem" href="#API-Support-Functions-(apiManager.jl)"><span>API Support Functions (apiManager.jl)</span></a></li><li><a class="tocitem" href="#ZIP-Support-Functions-(zipManager.jl)"><span>ZIP Support Functions (zipManager.jl)</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="JHistint.jl-Julia-Histopathology-Interface"><a class="docs-heading-anchor" href="#JHistint.jl-Julia-Histopathology-Interface">JHistint.jl - Julia Histopathology Interface</a><a id="JHistint.jl-Julia-Histopathology-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#JHistint.jl-Julia-Histopathology-Interface" title="Permalink"></a></h1><p>Julia interface for implementing the REST APIs available on the Cancer Slide Digital Archive (CDSA) portal for downloading histological images available in The Cancer Genome Atlas (TCGA). The Cancer Slide Digital Archive (CDSA) is a web platform for support, sharing, and analysis of digital pathological data. Currently, it hosts over 23,000 images associated with the data available on &quot;The Cancer Genome Atlas&quot; Data Portal. The library includes functions for managing image-processing algorithms for cell segmentation, constructing the adjacency matrix, and interfacing with the J-Space.jl package.</p><p>Link GitHub repository: <a href="https://github.com/niccolo99mandelli/JHistint.jl">JHistint.jl</a></p><p>Link GitHub repository: <a href="https://github.com/niccolo99mandelli/J-Space.jl">J-Space.jl</a></p><p>CDSA Portal: <a href="https://api.digitalslidearchive.org/#collections">Clicca qui</a>    </p><p>Repository containing the data mapped in the portal: <a href="https://cancer.digitalslidearchive.org/#!/CDSA/acc/TCGA-OR-A5J1">Clicca qui</a></p><p>Guide to using the APIs: <a href="https://api.digitalslidearchive.org/api/v1">Clicca qui</a></p><h2 id="Package-Structure"><a class="docs-heading-anchor" href="#Package-Structure">Package Structure</a><a id="Package-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Structure" title="Permalink"></a></h2><ul><li>The <code>case</code> and <code>collection</code> folders store metadata in <code>.json</code> format for individual cases and collections available on the TCGA Data Portal. The <code>collection</code> folder is structured as follows:<ul><li><code>collectionlist.json</code> = Stores access data (metadata) for collections (Projects in TCGA).</li><li><code>collection_name.json</code> = Stores access data (metadata) for a single collection. The <code>.json</code> file is generated based on the collection chosen by the user.</li></ul></li><li>The <code>case</code> folder is structured as follows:<ul><li><code>collection_name.json</code> = Stores all metadata related to cases associated with the collection selected by the user.</li></ul></li><li>The <code>slides</code> folder stores histological images related to individual cases. The images are organized based on collection (<code>TCGA-chol</code>, <code>TCGA-esca</code>, etc.), and the individual case being analyzed (<code>TCGA-2H-A9GF</code>, <code>TCGA-2H-A9GG</code>, etc.). Within each folder related to the case, the slides are stored in compressed <code>.zip</code> files. The format of each individual slide is <code>.tif</code>. The folder names related to the cases correspond to the values of the <code>Case ID</code> field listed in the TCGA Data Portal. The names of the <code>.zip</code> files located in each folder refer to the <code>Sample ID</code> attribute associated with the patient. The slide name is given by concatenating the <code>Slide ID</code> and <code>Slide UUID</code> attributes that can be found in the lower section of the web page dedicated to the generic case <code>TCGA-XX-YYYY</code>.</li></ul><pre><code class="nohighlight hljs">Example: TCGA-02-0001-01C-01-TS1.zip  
  - 02 = refers to the TSS (Tissue Source Site).  
  - 0001 = refers to the code associated with the Participant, an alphanumeric string.  
  - 01 = refers to the Sample Type. The values associated with tumor samples are in the range 01-09. 10-19 indicates the range for non-diseased normal samples. 20-29 indicates samples currently under control.  
  - C = refers to the Vial field related to the ordering of the sample in the sample sequence. Values range from A-Z.  
  - 01 = refers to the Portion field related to the ordering of the analyzed portions associated with a sample. It takes values in the range 01-99.  
  - TS1 = refers to the Slide field related to the type of image. The values that can be assumed are TS (Top Slide), BS (Bottom Slide), and MS (Middle Slide). The alphanumeric value indicates the slide ordering.</code></pre><h2 id="JHistint-Collections"><a class="docs-heading-anchor" href="#JHistint-Collections">JHistint Collections</a><a id="JHistint-Collections-1"></a><a class="docs-heading-anchor-permalink" href="#JHistint-Collections" title="Permalink"></a></h2><p>The available collections are:</p><ul><li>TCGA-BRCA = Breast Invasive Carcinoma (Breast)</li><li>TCGA-OV = Ovarian Serous Cystadenocarcinoma (Ovary)</li><li>TCGA-LUAD = Lung Adenocarcinoma (Bronchus and Lung)</li><li>TCGA-UCEC = Uterine Corpus Endometrial Carcinoma (Corpus uteri)</li><li>TCGA-GBM = Glioblastoma Multiforme (Brain)</li><li>TCGA-HSNC = Head and Neck Squamous Cell Carcinoma (Larynx, Lip, Tonsil, Gum, Other and unspecified parths of mouth)</li><li>TCGA-KIRC = Kidney Renal Clear Cell Carcinoma (Kidney)</li><li>TCGA-LGG = Brain Lower Grade Glioma (Brain)</li><li>TCGA-LUSC = Lung Squamous Cell Carcinoma (Bronchus and lung)</li><li>TCGA-TCHA = Thyroid Carcinoma (Thyroid gland)</li><li>TCGA-PRAD = Prostate Adenocarcinoma (Prostate gland)</li><li>TCGA-SKCM = Skin Cutaneous Melanoma (Skin)</li><li>TCGA-COAD = Colon Adenocarcinoma (Colon)</li><li>TCGA-STAD = Stomach Adenocarcinoma (Stomach)</li><li>TCGA-BLCA = Bladder Urothelial Carcinoma (Bladder)</li><li>TCGA-LIHC = Liver Hepatocellular Carcinoma (Liver and intrahepatic bile ducts)  </li><li>TCGA-CESC = Cervical Squamous Cell Carcinoma and Endocervical Adenocarcinoma (Cervix uteri)</li><li>TCGA-KIRP = Kidney Renal Papillary Cell Carcinoma (Kidney)</li><li>TCGA-SARC = Sarcoma (Various)</li><li>TCGA-ESCA = Esophageal Carcinoma (Esophagus)</li><li>TCGA-PAAD = Pancreatic Adenocarcinoma (Pancreas)</li><li>TCGA-READ = Rectum Adenocarcinoma (Rectum)</li><li>TCGA-PCPG = Pheochromocytoma and Paraganglioma (Adrenal gland)</li><li>TCGA-TGCT = Testicular Germ Cell Tumors (Testis)</li><li>TCGA-THYM = Thymoma (Thymus)</li><li>TCGA-ACC = Adrenocortical Carcinoma -Adenomas and Adenocarcinomas (Adrenal gland)</li><li>TCGA-MESO = Mesothelioma (Heart, mediastinum and pleura)</li><li>TCGA-UVM = Uveal Melanoma (Eye and adnexa)</li><li>TCGA-KICH = Kidney Chromophobe (Kidney)</li><li>TCGA-UCS = Uterine Carcinosarcoma (Uterus, NOS)</li><li>TCGA-CHOL = Cholangiocarcinoma (Liver and intrahepatic bile ducts, Other and unspecified part of biliary track)</li><li>TCGA-DLBC = Lymphoid Neoplasm Diffuse Large B-cell Lymphoma (Various)</li></ul><p>To download a specific collection, just indicate the name of the collection: <code>BRCA</code>, <code>OV</code>, <code>LUAD</code>.</p><h2 id="Package-Installation"><a class="docs-heading-anchor" href="#Package-Installation">Package Installation</a><a id="Package-Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Installation" title="Permalink"></a></h2><p>The <code>JHistint</code> package is available in the Julia Registries and can be installed as follows:</p><pre><code class="nohighlight hljs">julia &gt; using Pkg
julia &gt; Pkg.add(&quot;JHistint&quot;)
julia &gt; using JHistint</code></pre><p>Otherwise, type <code>]</code> in the Julia REPL and execute:</p><pre><code class="nohighlight hljs">(@v1.8) pkg &gt; add JHistint
(@v1.8) pkg &gt; using JHistint</code></pre><h2 id="Download-Slides-functions-(JHistint.jl)"><a class="docs-heading-anchor" href="#Download-Slides-functions-(JHistint.jl)">Download Slides functions (JHistint.jl)</a><a id="Download-Slides-functions-(JHistint.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#Download-Slides-functions-(JHistint.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JHistint.download_single_collection-Tuple{AbstractString}" href="#JHistint.download_single_collection-Tuple{AbstractString}"><code>JHistint.download_single_collection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_single_collection(collection_name::AbstractString)</code></pre><p>Function for downloading histological slides associated with a collection available in TCGA.</p><p><strong>Arguments</strong></p><ul><li><code>collection_name::AbstractString</code> = Collection of TCGA data to download the histological slides.</li></ul><p><strong>Notes</strong></p><p>The function evaluates the <code>collection_name</code> argument, and in case of an invalid collection, considers the configuration in the <code>Config.toml</code> file. The value set in the package is <code>default</code>.</p><pre><code class="language-julia hljs"># Examples with valid input
julia&gt; JHistint.download_single_collection(&quot;acc&quot;)
julia&gt; JHistint.download_single_collection(&quot;bLca&quot;)</code></pre><pre><code class="language-julia hljs"># Examples with invalid input
julia&gt; JHistint.download_single_collection(&quot;ac&quot;)
julia&gt; JHistint.download_single_collection(&quot;&quot;)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.download_all_collection-Tuple{}" href="#JHistint.download_all_collection-Tuple{}"><code>JHistint.download_all_collection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_all_collection()</code></pre><p>Function for downloading histological slides associated with all collections available in TCGA.</p><pre><code class="language-julia hljs"># Examples with valid input
julia&gt; JHistint.download_all_collection()</code></pre></div></section></article><h2 id="Cell-Segmentation-Slides-functions-(JHistint.jl)"><a class="docs-heading-anchor" href="#Cell-Segmentation-Slides-functions-(JHistint.jl)">Cell Segmentation Slides functions (JHistint.jl)</a><a id="Cell-Segmentation-Slides-functions-(JHistint.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#Cell-Segmentation-Slides-functions-(JHistint.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JHistint.slide_cell_segmentation_without_download-Tuple{AbstractString}" href="#JHistint.slide_cell_segmentation_without_download-Tuple{AbstractString}"><code>JHistint.slide_cell_segmentation_without_download</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slide_cell_segmentation_without_download(collection_name::AbstractString)</code></pre><p>Function for performing cell segmentation on histopathological slides present in the <code>JHistint_DB</code> database associated with the collection name provided as an argument. After generating the segmented slide, the function proceeds with constructing and saving the corresponding graph and adjacency matrix.</p><p><strong>Arguments</strong></p><ul><li><code>collection_name::AbstractString</code> = Collection of TCGA data to download the histological slides.</li></ul><p><strong>Notes</strong></p><p>The function utilizes the <code>JHistint_DB</code> database for performing cell segmentation on the histopathological slides associated with the provided collection name. It generates a segmented slide and constructs a corresponding graph and adjacency matrix. The output files are saved in a user-defined directory. The function may take a considerable amount of time to complete, depending on the size of the slides and the complexity of the segmentation algorithm. For each slide in the database, cell segmentation is performed using the <code>apply_segmentation_without_download</code> function, and the path where the result is saved is stored in the database using the <code>load_seg_slide</code> function. The segmentation process is defined in 4 steps:</p><ul><li>LOAD SLIDE ... (slide_id)</li><li>APPLY SEGMENTATION ... (slide_id)</li><li>BUILD GRAPH ... (slide_id)</li><li>BUILD &amp; SAVE ADJACENCY MATRIX ... (slide_id)</li><li>J-SPACE features ... (slide_id)</li></ul><p>The adjacency matrix is saved in the same directory as the original image in text format. Finally, a confirmation message is printed for each segmented slide. Unlike the <code>slide_cell_segmentation_with_download</code> function, this function does not involve the creation and download of the segmented image.</p><pre><code class="language-julia hljs"># Examples with valid input
julia&gt; JHistint.slide_cell_segmentation_without_download(&quot;acc&quot;)
julia&gt; JHistint.slide_cell_segmentation_without_download(&quot;bLca&quot;)</code></pre><pre><code class="language-julia hljs"># Examples with invalid input
julia&gt; JHistint.slide_cell_segmentation_without_download(&quot;ac&quot;)
julia&gt; JHistint.slide_cell_segmentation_without_download(&quot;&quot;)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.slide_cell_segmentation_with_download-Tuple{AbstractString}" href="#JHistint.slide_cell_segmentation_with_download-Tuple{AbstractString}"><code>JHistint.slide_cell_segmentation_with_download</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slide_cell_segmentation_with_download(collection_name::AbstractString)</code></pre><p>Function for performing cell segmentation on histopathological slides present in the <code>JHistint_DB</code> database associated with the collection name provided as an argument. The function downloads the segmented slide, which is placed in the same directory as the original slide. After generating the segmented slide, the function proceeds with constructing and saving the corresponding graph and adjacency matrix.</p><p><strong>Arguments</strong></p><ul><li><code>collection_name::AbstractString</code> = TCGA data collection for which to perform cell segmentation.</li></ul><p><strong>Notes</strong></p><p>The function utilizes the <code>JHistint_DB</code> database for performing cell segmentation on the histopathological slides associated with the provided collection name. It generates a segmented slide and constructs a corresponding graph and adjacency matrix. The output files are saved in a user-defined directory. The function may take a considerable amount of time to complete, depending on the size of the slides and the complexity of the segmentation algorithm. For each slide in the database, cell segmentation is performed using the <code>apply_segmentation_with_download</code> function, and the path where the result is saved is stored in the database using the <code>load_seg_slide</code> function. The segmentation process is similar to that described in the <code>slide_cell_segmentation_with_download</code> function, with the added step of downloading the segmented image and placing it in the same directory as the original slide. The segmentation process is defined in 6 steps:</p><ul><li>LOAD SLIDE ... (slide_id)</li><li>APPLY SEGMENTATION ... (slide_id)</li><li>BUILD SEGMENTED SLIDE ... (slide_id)</li><li>BUILD GRAPH ... (slide_id)</li><li>BUILD &amp; SAVE ADJACENCY MATRIX ... (slide_id)</li><li>SAVE SEGMENTED SLIDE ... (slide_id)</li><li>J-SPACE features ... (slide_id)</li></ul><p>The adjacency matrix is saved in text format in the same directory as both the original and segmented images. Finally, a confirmation message is printed for each segmented slide.</p><pre><code class="language-julia hljs"># Examples with valid input
julia&gt; JHistint.slide_cell_segmentation_with_download(&quot;acc&quot;)
julia&gt; JHistint.slide_cell_segmentation_with_download(&quot;bLca&quot;)</code></pre><pre><code class="language-julia hljs"># Examples with invalid input
julia&gt; JHistint.slide_cell_segmentation_with_download(&quot;ac&quot;)
julia&gt; JHistint.slide_cell_segmentation_with_download(&quot;&quot;)</code></pre></div></section></article><h2 id="Support-Functions-for-Cell-Segmentation-(segmentationManager.jl)"><a class="docs-heading-anchor" href="#Support-Functions-for-Cell-Segmentation-(segmentationManager.jl)">Support Functions for Cell Segmentation (segmentationManager.jl)</a><a id="Support-Functions-for-Cell-Segmentation-(segmentationManager.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#Support-Functions-for-Cell-Segmentation-(segmentationManager.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JHistint.apply_segmentation_without_download-Tuple{Tuple{String, Vector{UInt8}, String}}" href="#JHistint.apply_segmentation_without_download-Tuple{Tuple{String, Vector{UInt8}, String}}"><code>JHistint.apply_segmentation_without_download</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_segmentation_without_download(slide_info::Tuple{String, Vector{UInt8}, String})</code></pre><p>The function performs the segmentation of a histological image, generates its corresponding graph, and translates it into a symmetric adjacency matrix with only 0s and 1s.</p><p><strong>Arguments</strong></p><ul><li><code>slide_info::Tuple{String, Vector{UInt8}, String}</code>: A tuple containing the slide ID, the image obtained from the DB, and the path of the original image file.</li></ul><p><strong>Return values</strong></p><ul><li><code>filepath_matrix</code>: The path where the adjacency matrix is stored in <code>.txt</code> format.</li><li><code>matrix</code>: The adjacency matrix constructed from the segmentation.</li></ul><p><strong>Notes</strong></p><p>The function uses the watershed segmentation algorithm to segment the image into different groups of pixels. Segmentation is performed using a feature transformation of the image (<code>feature_transform</code>) and labeling of connected components. The distance between the different regions is then calculated, and an adjacency graph of the regions is constructed using the <code>region_adjacency_graph</code> function. The resulting graph is then transformed into an adjacency matrix using the <code>weighted_graph_to_adjacency_matrix</code> function and saved to the path of the original image.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.apply_segmentation_with_download-Tuple{Tuple{String, Vector{UInt8}, String}}" href="#JHistint.apply_segmentation_with_download-Tuple{Tuple{String, Vector{UInt8}, String}}"><code>JHistint.apply_segmentation_with_download</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_segmentation_with_download(slide_info::Tuple{String, Vector{UInt8}, String})</code></pre><p>The function performs segmentation of a histological image, saves the segmented image in <code>.tif</code> format, generates the corresponding graph, and translates it into an adjacency matrix.</p><p><strong>Arguments</strong></p><ul><li><code>slide_info::Tuple{String, Vector{UInt8}, String}</code>: Tuple containing the slide ID, the image itself obtained from the DB, and the path of the original image file.</li></ul><p><strong>Return values</strong></p><ul><li><code>filepath_seg</code>: The path where the segmented image is stored in <code>.tif</code> format.</li><li><code>filepath_matrix</code>: The path where the graph is stored in <code>.txt</code> format.</li><li><code>matrix</code>: The adjacency matrix constructed from the segmentation.</li></ul><p><strong>Notes</strong></p><p>The function uses the watershed segmentation algorithm to segment the image into different groups of pixels. Segmentation is performed using an image feature transformation (<code>feature_transform</code>) and connected component labeling. The distance between different regions is then calculated, and an adjacency graph of the regions is constructed using the <code>region_adjacency_graph</code> function. The obtained graph is transformed into an adjacency matrix using the <code>weighted_graph_to_adjacency_matrix</code> function, which is saved in the path of the original image. Finally, a segmented <code>.tif</code> image is saved, and the path of the segmented slide file is returned.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.save_adjacency_matrix-Tuple{Matrix{Int64}, AbstractString}" href="#JHistint.save_adjacency_matrix-Tuple{Matrix{Int64}, AbstractString}"><code>JHistint.save_adjacency_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_adjacency_matrix(matrix::Matrix{Int64}, filepath_matrix::AbstractString)</code></pre><p>Function to save an adjacency matrix represented as an integer matrix to a text file.</p><p><strong>Arguments:</strong></p><ul><li><code>matrix::Matrix{Int64}</code>: The integer matrix representing the adjacency matrix.</li><li><code>filepath_matrix::AbstractString</code>: The file path represented as a string indicating where to save the matrix.</li></ul><p><strong>Notes</strong></p><p>The function opens the file specified by the <code>filepath_matrix</code> path in write mode and writes the matrix in adjacency matrix format, where each row represents the adjacent nodes of a node. The numbers in the matrix are separated by spaces.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.weighted_graph_to_adjacency_matrix-Tuple{SimpleWeightedGraph{Int64, Float64}, Int64}" href="#JHistint.weighted_graph_to_adjacency_matrix-Tuple{SimpleWeightedGraph{Int64, Float64}, Int64}"><code>JHistint.weighted_graph_to_adjacency_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">weighted_graph_to_adjacency_matrix(G::SimpleWeightedGraph{Int64, Float64}, n::Int64)</code></pre><p>Converts a weighted graph represented as a <code>SimpleWeightedGraph</code> into an unweighted adjacency matrix.</p><p><strong>Arguments:</strong></p><ul><li><code>G::SimpleWeightedGraph{Int64, Float64}</code>: Weighted graph represented as a <code>SimpleWeightedGraph</code> with integer vertex labels and floating-point edge weights.</li><li><code>n::Int64</code>: Number of nodes in the adjacency matrix.</li></ul><p><strong>Return value:</strong></p><ul><li><code>adjacency_matrix</code>: <code>Matrix{Int64}</code> adjacency matrix.</li></ul><p><strong>Notes:</strong></p><p>The function returns an <code>n</code> x <code>n</code> adjacency matrix representing the unweighted graph. If nodes <code>i</code> and <code>j</code> are adjacent, the adjacency matrix will contain a value of <code>1</code> at position <code>(i,j)</code> and <code>(j,i)</code>. Otherwise, the adjacency matrix will contain a value of <code>0</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.get_random_color-Tuple{Any}" href="#JHistint.get_random_color-Tuple{Any}"><code>JHistint.get_random_color</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_random_color(seed)</code></pre><p>Function to return a random 8-bit RGB format color, using a specified seed.</p><p><strong>Arguments</strong></p><ul><li><code>seed</code>: An integer used to initialize the random number generator. If two calls to the function use the same seed, the same color will be generated.</li></ul><p><strong>Return value</strong></p><p>The function returns a random 8-bit RGB format color.</p></div></section></article><h2 id="DB-Support-Functions-(dbManager.jl)"><a class="docs-heading-anchor" href="#DB-Support-Functions-(dbManager.jl)">DB Support Functions (dbManager.jl)</a><a id="DB-Support-Functions-(dbManager.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#DB-Support-Functions-(dbManager.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JHistint.insert_record_DB-NTuple{8, AbstractString}" href="#JHistint.insert_record_DB-NTuple{8, AbstractString}"><code>JHistint.insert_record_DB</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">insert_record_DB(col_name::AbstractString,
                      cas_name::AbstractString,
                      tcga_case_id::AbstractString,
                      sin_cas_name::AbstractString,
                      tcga_slide_id::AbstractString,
                      link_slide::AbstractString,
                      filepath_zip::AbstractString,
                      filepath_svs::AbstractString)</code></pre><p>Function for storing in the <code>JHistint_DB</code> database the information associated with each slide downloaded from the Cancer Digital Slide Archive (CDSA).</p><p><strong>Argomenti</strong></p><ul><li><code>col_name::AbstractString</code> = Collection name.</li><li><code>cas_name::AbstractString</code> = Case name, which corresponds to the <code>CASE-NAME</code> displayed by the package.</li><li><code>tcga_case_id::AbstractString</code> = ID used by TCGA to identify the case.</li><li><code>sin_cas_name::AbstractString</code> = Name of the individual slide, which corresponds to the <code>SLIDE-ID</code> displayed by the package.</li><li><code>tcga_slide_id::AbstractString</code> = ID used by TCGA to identify the slide.</li><li><code>link_slide::AbstractString</code> = Link to the APIs for downloading the slide.</li><li><code>filepath_zip::AbstractString</code> = Path where the <code>.zip</code> file is stored.</li><li><code>filepath_svs::AbstractString</code> = Path where the <code>.tif</code> file is stored.</li></ul><p><strong>Notes</strong></p><p>The <code>JHistint_DB</code> database is used for storing the information associated with each slide downloaded from the CDSA. The function takes a dictionary containing the information associated with the slide and stores it in the database. Data available in the <code>JHistint_DB</code> database for each slide:</p><ul><li><code>collection_name TEXT</code> = Name of the collection.</li><li><code>case_name TEXT</code> = Name of the case.</li><li><code>TCGA_caseID TEXT</code> = ID used by TCGA to identify the case.</li><li><code>slide_ID TEXT</code> = Name of the individual slide case.</li><li><code>TCGA_slideID TEXT UNIQUE</code> = ID used by TCGA to identify the slide, <code>UNIQUE</code> prevents duplicates from being generated.</li><li><code>slide_path_folder_zip TEXT</code> = Path where the <code>.zip</code> file is stored.</li><li><code>slide_path_folder_svs TEXT</code> = Path where the <code>.tif</code> file is stored.</li><li><code>slide_path_api TEXT</code> = Link to the API for downloading the slide.</li><li><code>slide_path_folder_seg TEXT</code> = Path where the segmented <code>.tif</code> file is stored.</li><li><code>slide_svs BLOB</code> = Histopathological slide (image).</li><li><code>slide_info_TSS TEXT</code> = Slide information - Tissue Source Site.</li><li><code>slide_info_participant_code TEXT</code> = Slide information - Participant Code, alphanumeric string.</li><li><code>slide_info_sample_type TEXT</code> = Slide information - Sample Type. The values associated with tumor samples are in the range 01-09. 10-19 indicates the range for non-diseased normal samples. 20-29 indicates samples currently under control.</li><li><code>slide_info_vial TEXT</code> = Slide information - Vial. Related to the ordering of the sample in the sequence of samples. The values range from A-Z.</li><li><code>slide_info_portion TEXT</code> = Slide information - Portion. Related to the ordering of the analyzed portions associated with a sample. Takes values in the range 01-99.</li><li><code>slide_info_type TEXT</code> = Slide information - Image Type. The possible values are TS (Top Slide), BS (Bottom Slide), and MS (Middle Slide). The alphanumeric value indicates the ordering of the slide.</li><li><code>slide_path_folder_matrix TEXT</code> = Path where the adjacency matrix <code>.txt</code> file is stored.</li><li><code>matrix_data BLOB</code> = Adjacency matrix.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.query_extract_slide_svs-Tuple{AbstractString}" href="#JHistint.query_extract_slide_svs-Tuple{AbstractString}"><code>JHistint.query_extract_slide_svs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">query_extract_slide_svs(collection_name::AbstractString)</code></pre><p>The function queries the <code>JHistint_DB</code> and extracts the list of slides associated with the collection name provided as an argument.</p><p><strong>Arguments</strong></p><ul><li><code>collection_name::AbstractString</code>: Name of the slide collection to search for in the <code>JHistint_DB</code>.</li></ul><p><strong>Return value</strong></p><ul><li><code>slide_list</code>: List of tuples, each of which contains the ID of the slide, the <code>.svs</code> file of the slide, and the path of the folder containing the <code>.svs</code> file.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.load_seg_slide-Tuple{AbstractString, AbstractString, Matrix{Int64}, AbstractString}" href="#JHistint.load_seg_slide-Tuple{AbstractString, AbstractString, Matrix{Int64}, AbstractString}"><code>JHistint.load_seg_slide</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_seg_slide(filepath_seg::AbstractString, filepath_matrix::AbstractString, matrix::Matrix{Int64}, slide_id::AbstractString)</code></pre><p>The function updates the <code>JHistint_DB</code> with the path of the segmented image file, the path of the adjacency matrix file in text format, and the matrix itself.</p><p><strong>Arguments</strong></p><ul><li><code>filepath_seg::AbstractString</code>: Path of the segmented image file to add to the DB.</li><li><code>filepath_matrix::AbstractString</code>: Path of the adjacency matrix file.</li><li><code>matrix::Matrix{Int64}</code>: Adjacency matrix.</li><li><code>slide_id::AbstractString</code>: ID of the slide to update with the segmented image information.</li></ul></div></section></article><h2 id="API-Support-Functions-(apiManager.jl)"><a class="docs-heading-anchor" href="#API-Support-Functions-(apiManager.jl)">API Support Functions (apiManager.jl)</a><a id="API-Support-Functions-(apiManager.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#API-Support-Functions-(apiManager.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JHistint.download_collection_values-Tuple{AbstractString}" href="#JHistint.download_collection_values-Tuple{AbstractString}"><code>JHistint.download_collection_values</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_collection_values(filepath::AbstractString)</code></pre><p>Function for downloading data from collections available in TCGA.</p><p><strong>Arguments</strong></p><ul><li><code>filepath::AbstractString</code> = Path where to save the obtained <code>.json</code> file from the API available in CDSA.</li></ul><p><strong>Notes</strong></p><p>The API requires the definition of <code>parentType</code> and <code>parentId</code>. <code>parentId</code> specifies the identifier of the collection. The collection of images associated with TCGA is identified by the code: <code>5b9ef8e3e62914002e454c39</code>. The use of <code>limit=0</code> sets the absence of limits in the queried file, ensuring the complete download of the file. The API belongs to the category for managing the folders stored in the repository. The downloaded file is <code>.json</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.extract_collection_values-Tuple{AbstractString}" href="#JHistint.extract_collection_values-Tuple{AbstractString}"><code>JHistint.extract_collection_values</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">extract_collection_values(filepath::AbstractString)</code></pre><p>Function to extract the values of data collections from the <code>.json</code> file downloaded by the <code>download_collection_values</code> function.</p><p><strong>Arguments</strong></p><ul><li><code>filepath::AbstractString</code> = Path where the <code>collectionlist.json</code> file is stored.</li></ul><p><strong>Return value</strong></p><ul><li><code>collection_values::Array{String}</code> = List of data collections available in TCGA.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.download_project_infos-Tuple{AbstractString, AbstractString}" href="#JHistint.download_project_infos-Tuple{AbstractString, AbstractString}"><code>JHistint.download_project_infos</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_project_infos(filepath::AbstractString, collection_name::AbstractString)</code></pre><p>Function to download metadata associated with the selected collection at startup.</p><p><strong>Arguments</strong></p><ul><li><code>filepath::AbstractString</code> = Path to save the <code>.json</code> file associated with the collection. The file is indicated</li></ul><p>with the wording <code>collection_name.json</code>.</p><ul><li><code>collection_name::AbstractString</code> = Name of the collection from which to download the slides.</li></ul><p><strong>Notes</strong></p><p>The API requires the definition of <code>parentType</code>, <code>parentId</code>, and <code>name</code>. The <code>name</code> attribute identifies the name of the collection from which you want to retrieve data (e.g., chol, esca, etc.). The API belongs to the category for managing the folders stored in the repository. The downloaded file is <code>.json</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.extract_project_id-Tuple{AbstractString}" href="#JHistint.extract_project_id-Tuple{AbstractString}"><code>JHistint.extract_project_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">extract_project_id(filepath::AbstractString)</code></pre><p>Function to extract the <code>id</code> value from the metadata of the collection selected at startup.</p><p><strong>Arguments</strong></p><ul><li><code>filepath::AbstractString</code> = Path where the <code>collection_name.json</code> file is stored.</li></ul><p><strong>Return value</strong></p><ul><li><code>project_id</code> = <code>id</code> of the collection.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.getCasesForProject-Tuple{AbstractString, AbstractString}" href="#JHistint.getCasesForProject-Tuple{AbstractString, AbstractString}"><code>JHistint.getCasesForProject</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getCasesForProject(filepath_case::AbstractString, project_id::AbstractString)</code></pre><p>Function to download metadata associated with the cases of the selected collection at startup.</p><p><strong>Arguments</strong></p><ul><li><code>filepath::AbstractString</code> = Path where to save the <code>.json</code> file associated with the cases of the collection. The file is indicated with the term <code>collection_name.json</code>.</li><li><code>project_id::AbstractString</code> = <code>id</code> of the collection.</li></ul><p><strong>Return values</strong></p><ul><li><code>casesID_values</code> = List of <code>id</code> of all the cases in the collection.</li><li><code>casesNAME_values</code> = List of <code>name</code> of all the cases in the collection.</li></ul><p><strong>Notes</strong></p><p>The API requires the definition of <code>parentType</code> and <code>parentId</code>. The <code>parentType</code> attribute is set to <code>folder</code> given the structure of the repository. The <code>parentId</code> is set by defining the identifier of the chosen collection. The downloaded file is <code>.json</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="JHistint.download_zip-Tuple{AbstractString, AbstractString}" href="#JHistint.download_zip-Tuple{AbstractString, AbstractString}"><code>JHistint.download_zip</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_zip(link::AbstractString, filepath::AbstractString)</code></pre><p>Function for downloading histological slides in <code>.zip</code> format associated with the cases of the selected collection at startup.</p><p><strong>Arguments</strong></p><ul><li><code>link::AbstractString</code> = URL to access the API for slide download.</li><li><code>filepath::AbstractString</code> = Path to save the <code>.zip</code> file.</li></ul></div></section></article><h2 id="ZIP-Support-Functions-(zipManager.jl)"><a class="docs-heading-anchor" href="#ZIP-Support-Functions-(zipManager.jl)">ZIP Support Functions (zipManager.jl)</a><a id="ZIP-Support-Functions-(zipManager.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#ZIP-Support-Functions-(zipManager.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JHistint.extract_slide-Tuple{AbstractString}" href="#JHistint.extract_slide-Tuple{AbstractString}"><code>JHistint.extract_slide</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">extract_slide(filepath_zip::AbstractString)</code></pre><p>Function to extract the contents of <code>.zip</code> files downloaded from CDSA.</p><p><strong>Arguments</strong></p><ul><li><code>filepath_zip::AbstractString</code> = Path where the <code>.zip</code> file for the individual case is saved.</li></ul></div></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 2 May 2023 20:36">Tuesday 2 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
